Index: README.md
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+># Домашнее задание к занятию 11 «Teamcity»\r\n\r\n## Подготовка к выполнению\r\n\r\n1. В Yandex Cloud создайте новый инстанс (4CPU4RAM) на основе образа `jetbrains/teamcity-server`.\r\n2. Дождитесь запуска teamcity, выполните первоначальную настройку.\r\n3. Создайте ещё один инстанс (2CPU4RAM) на основе образа `jetbrains/teamcity-agent`. Пропишите к нему переменную окружения `SERVER_URL: \"http://<teamcity_url>:8111\"`.\r\n4. Авторизуйте агент.\r\n5. Сделайте fork [репозитория](https://github.com/aragastmatb/example-teamcity).\r\n6. Создайте VM (2CPU4RAM) и запустите [playbook](./infrastructure).\r\n\r\n## Основная часть\r\n\r\n1. Создайте новый проект в teamcity на основе fork.\r\n2. Сделайте autodetect конфигурации.\r\n3. Сохраните необходимые шаги, запустите первую сборку master.\r\n4. Поменяйте условия сборки: если сборка по ветке `master`, то должен происходит `mvn clean deploy`, иначе `mvn clean test`.\r\n5. Для deploy будет необходимо загрузить [settings.xml](./teamcity/settings.xml) в набор конфигураций maven у teamcity, предварительно записав туда креды для подключения к nexus.\r\n6. В pom.xml необходимо поменять ссылки на репозиторий и nexus.\r\n7. Запустите сборку по master, убедитесь, что всё прошло успешно и артефакт появился в nexus.\r\n8. Мигрируйте `build configuration` в репозиторий.\r\n9. Создайте отдельную ветку `feature/add_reply` в репозитории.\r\n10. Напишите новый метод для класса Welcomer: метод должен возвращать произвольную реплику, содержащую слово `hunter`.\r\n11. Дополните тест для нового метода на поиск слова `hunter` в новой реплике.\r\n12. Сделайте push всех изменений в новую ветку репозитория.\r\n13. Убедитесь, что сборка самостоятельно запустилась, тесты прошли успешно.\r\n14. Внесите изменения из произвольной ветки `feature/add_reply` в `master` через `Merge`.\r\n15. Убедитесь, что нет собранного артефакта в сборке по ветке `master`.\r\n16. Настройте конфигурацию так, чтобы она собирала `.jar` в артефакты сборки.\r\n17. Проведите повторную сборку мастера, убедитесь, что сбора прошла успешно и артефакты собраны.\r\n18. Проверьте, что конфигурация в репозитории содержит все настройки конфигурации из teamcity.\r\n19. В ответе пришлите ссылку на репозиторий.\r\n\r\n---\r\n\r\n## Ответы к подготовительной части\r\n\r\n1. В Yandex Cloud создайте новый инстанс (4CPU4RAM) на основе образа `jetbrains/teamcity-server`.\r\n2. Дождитесь запуска teamcity, выполните первоначальную настройку.\r\n3. Создайте ещё один инстанс (2CPU4RAM) на основе образа `jetbrains/teamcity-agent`. Пропишите к нему переменную окружения `SERVER_URL: \"http://<teamcity_url>:8111\"`.\r\n![0.1.png](images/0.1.png)\r\n\r\n4. Авторизуйте агент.\r\n5. Сделайте fork [репозитория](https://github.com/aragastmatb/example-teamcity).\r\n6. Создайте VM (2CPU4RAM) и запустите [playbook](./infrastructure).\r\n![0.2.png](images/0.2.png)\r\n\r\n## Ответы к основной части\r\n\r\n1. Создайте новый проект в teamcity на основе fork.\r\n![1.png](images/1.png)\r\n\r\n2. Сделайте autodetect конфигурации.\r\n![2.png](images/2.png)\r\n\r\n3. Сохраните необходимые шаги, запустите первую сборку master.\r\n![3.png](images/3.png)\r\n\r\n4. Поменяйте условия сборки: если сборка по ветке `master`, то должен происходит `mvn clean deploy`, иначе `mvn clean test`.\r\n![4.png](images/4.png)\r\n\r\n5. Для deploy будет необходимо загрузить [settings.xml](./teamcity/settings.xml) в набор конфигураций maven у teamcity, предварительно записав туда креды для подключения к nexus.\r\n```declarative\r\n<server>\r\n  <id>nexus</id>\r\n  <username>admin</username>\r\n  <password>admin123</password>\r\n</server>\r\n```\r\n\r\n6. В pom.xml необходимо поменять ссылки на репозиторий и nexus.\r\n```declarative\r\n<distributionManagement>\r\n\t\t<repository>\r\n\t\t\t\t<id>nexus</id>\r\n\t\t\t\t<url>http://178.154.193.211:8081/repository/maven-releases</url>\r\n\t\t</repository>\r\n\t</distributionManagement>\r\n```\r\n\r\n7. Запустите сборку по master, убедитесь, что всё прошло успешно и артефакт появился в nexus.\r\n![7.png](images/7.png)\r\n\r\n8. Мигрируйте `build configuration` в репозиторий.\r\n![8.png](images/8.png)\r\n\r\n9. Создайте отдельную ветку `feature/add_reply` в репозитории.\r\n\r\n\r\n10. Напишите новый метод для класса Welcomer: метод должен возвращать произвольную реплику, содержащую слово `hunter`.\r\n11. Дополните тест для нового метода на поиск слова `hunter` в новой реплике.\r\n12. Сделайте push всех изменений в новую ветку репозитория.\r\n13. Убедитесь, что сборка самостоятельно запустилась, тесты прошли успешно.\r\n14. Внесите изменения из произвольной ветки `feature/add_reply` в `master` через `Merge`.\r\n15. Убедитесь, что нет собранного артефакта в сборке по ветке `master`.\r\n16. Настройте конфигурацию так, чтобы она собирала `.jar` в артефакты сборки.\r\n17. Проведите повторную сборку мастера, убедитесь, что сбора прошла успешно и артефакты собраны.\r\n18. Проверьте, что конфигурация в репозитории содержит все настройки конфигурации из teamcity.\r\n19. В ответе пришлите ссылку на репозиторий.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Как оформить решение задания\r\n\r\nВыполненное домашнее задание пришлите в виде ссылки на .md-файл в вашем репозитории.\r\n\r\n---\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/README.md b/README.md
--- a/README.md	(revision 30fc51ffa4c9b3f2148791ad4f8e62e53d924b3c)
+++ b/README.md	(date 1771497757006)
@@ -38,58 +38,86 @@
 1. В Yandex Cloud создайте новый инстанс (4CPU4RAM) на основе образа `jetbrains/teamcity-server`.
 2. Дождитесь запуска teamcity, выполните первоначальную настройку.
 3. Создайте ещё один инстанс (2CPU4RAM) на основе образа `jetbrains/teamcity-agent`. Пропишите к нему переменную окружения `SERVER_URL: "http://<teamcity_url>:8111"`.
-![0.1.png](images/0.1.png)
+   ![0.1.png](images/0.1.png)
 
 4. Авторизуйте агент.
 5. Сделайте fork [репозитория](https://github.com/aragastmatb/example-teamcity).
 6. Создайте VM (2CPU4RAM) и запустите [playbook](./infrastructure).
-![0.2.png](images/0.2.png)
+   ![0.2.png](images/0.2.png)
 
 ## Ответы к основной части
 
 1. Создайте новый проект в teamcity на основе fork.
-![1.png](images/1.png)
+   ![1.png](images/1.png)
 
 2. Сделайте autodetect конфигурации.
-![2.png](images/2.png)
+   ![2.png](images/2.png)
 
 3. Сохраните необходимые шаги, запустите первую сборку master.
-![3.png](images/3.png)
+   ![3.png](images/3.png)
 
 4. Поменяйте условия сборки: если сборка по ветке `master`, то должен происходит `mvn clean deploy`, иначе `mvn clean test`.
-![4.png](images/4.png)
+   ![4.png](images/4.png)
 
 5. Для deploy будет необходимо загрузить [settings.xml](./teamcity/settings.xml) в набор конфигураций maven у teamcity, предварительно записав туда креды для подключения к nexus.
 ```declarative
 <server>
-  <id>nexus</id>
-  <username>admin</username>
-  <password>admin123</password>
+<id>nexus</id>
+<username>admin</username>
+<password>admin123</password>
 </server>
 ```
 
 6. В pom.xml необходимо поменять ссылки на репозиторий и nexus.
 ```declarative
 <distributionManagement>
-		<repository>
-				<id>nexus</id>
-				<url>http://178.154.193.211:8081/repository/maven-releases</url>
-		</repository>
-	</distributionManagement>
+<repository>
+<id>nexus</id>
+<url>http://178.154.193.211:8081/repository/maven-releases</url>
+</repository>
+</distributionManagement>
 ```
 
 7. Запустите сборку по master, убедитесь, что всё прошло успешно и артефакт появился в nexus.
-![7.png](images/7.png)
+   ![7.png](images/7.png)
 
 8. Мигрируйте `build configuration` в репозиторий.
-![8.png](images/8.png)
+   ![8.png](images/8.png)
 
 9. Создайте отдельную ветку `feature/add_reply` в репозитории.
 
 
 10. Напишите новый метод для класса Welcomer: метод должен возвращать произвольную реплику, содержащую слово `hunter`.
+```declarative
+public String sayRandomHunterPhrase() {
+String[] phrases = {
+"The hunter must hunt.",
+"A hunter is never alone.",
+"The hunter's dream is eternal.",
+"This hunter's mark is your own.",
+"Every hunter fears the night."
+};
+
+int index = random.nextInt(phrases.length);
+return phrases[index];
+}
+```
+
 11. Дополните тест для нового метода на поиск слова `hunter` в новой реплике.
+```declarative
+@Test
+public void welcomerSaysRandomHunterPhrase() {
+String phrase = welcomer.sayRandomHunterPhrase();
+// Проверяем, что фраза содержит слово "hunter"
+assertThat(phrase.toLowerCase(), containsString("hunter"));
+// Проверяем, что фраза не пустая
+assertTrue(phrase.length() > 0);
+}
+```
+
 12. Сделайте push всех изменений в новую ветку репозитория.
+
+
 13. Убедитесь, что сборка самостоятельно запустилась, тесты прошли успешно.
 14. Внесите изменения из произвольной ветки `feature/add_reply` в `master` через `Merge`.
 15. Убедитесь, что нет собранного артефакта в сборке по ветке `master`.
